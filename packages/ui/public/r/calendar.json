{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "calendar",
  "type": "registry:ui",
  "dependencies": [
    "corvu/calendar",
    "corvu",
    "lucide-solid",
    "solid-js",
    "tailwind-variants"
  ],
  "registryDependencies": ["button"],
  "files": [
    {
      "path": "registry/jumpwind/ui/calendar.tsx",
      "content": "import * as CalendarPrimitive from \"corvu/calendar\";\nimport ChevronLeftIcon from \"lucide-solid/icons/chevron-left\";\nimport ChevronRightIcon from \"lucide-solid/icons/chevron-right\";\nimport {\n  type Accessor,\n  type ComponentProps,\n  Index,\n  type JSX,\n  Show,\n  splitProps,\n} from \"solid-js\";\nimport { cn } from \"@/registry/jumpwind/lib/utils\";\nimport { buttonVariants } from \"@/registry/jumpwind/ui/button\";\n\nconst useCalendar = CalendarPrimitive.useContext;\n\ntype CalendarProps<T extends CalendarPrimitive.RootProps[\"mode\"]> = Extract<\n  CalendarPrimitive.RootProps,\n  { mode: T }\n>;\n\nfunction Calendar<const Mode extends CalendarPrimitive.RootProps[\"mode\"]>(\n  props: CalendarProps<Mode> & { class?: string },\n) {\n  const [local] = splitProps(props, [\"class\"]);\n\n  return (\n    <div class={cn(\"w-fit p-3\", local.class)}>\n      <CalendarPrimitive.Root data-slot=\"calendar\" {...props} />\n    </div>\n  );\n}\n\nfunction CalendarNav(props: ComponentProps<typeof CalendarPrimitive.Nav>) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  return (\n    <CalendarPrimitive.Nav\n      data-slot=\"calendar-nav\"\n      class={buttonVariants({\n        variant: \"outline\",\n        class: [\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\",\n          local.class,\n        ],\n      })}\n      {...rest}\n    >\n      {local.children}\n    </CalendarPrimitive.Nav>\n  );\n}\n\nconst { format: formatMonth } = new Intl.DateTimeFormat(\"en\", {\n  month: \"long\",\n});\n\nfunction CalendarLabel(props: ComponentProps<typeof CalendarPrimitive.Label>) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  const context = CalendarPrimitive.useContext<\"single\">();\n\n  const value = () => {\n    const month = context.month();\n    return `${formatMonth(month)} ${month.getFullYear()}`;\n  };\n\n  return (\n    <CalendarPrimitive.Label\n      data-slot=\"calendar-label\"\n      class={cn(\"font-medium text-sm\", local.class)}\n      {...rest}\n    >\n      <Show fallback={value()} when={local.children}>\n        {local.children}\n      </Show>\n    </CalendarPrimitive.Label>\n  );\n}\n\nfunction CalendarPrevMonth(\n  props: Omit<ComponentProps<typeof CalendarNav>, \"action\">,\n) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  return (\n    <CalendarNav\n      data-slot=\"calendar-prev-month\"\n      action=\"prev-month\"\n      aria-label=\"Go to previous month\"\n      class={cn(\"absolute start-1\", local.class)}\n      {...rest}\n    >\n      <Show\n        fallback={<ChevronLeftIcon class=\"h-4 w-4\" />}\n        when={local.children}\n      >\n        {local.children}\n      </Show>\n    </CalendarNav>\n  );\n}\n\nfunction CalendarNextMonth(\n  props: Omit<ComponentProps<typeof CalendarNav>, \"action\">,\n) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  return (\n    <CalendarNav\n      data-slot=\"calendar-next-month\"\n      action=\"next-month\"\n      aria-label=\"Go to next month\"\n      class={cn(\"absolute end-1\", local.class)}\n      {...rest}\n    >\n      <Show\n        fallback={<ChevronRightIcon class=\"h-4 w-4\" />}\n        when={local.children}\n      >\n        {local.children}\n      </Show>\n    </CalendarNav>\n  );\n}\n\nfunction CalendarHeader(props: ComponentProps<\"div\">) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  return (\n    <div\n      data-slot=\"calendar-header\"\n      class={cn(\"flex items-center space-x-1\", local.class)}\n      {...rest}\n    >\n      {local.children}\n    </div>\n  );\n}\n\nfunction CalendarTable(props: ComponentProps<typeof CalendarPrimitive.Table>) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  return (\n    <CalendarPrimitive.Table\n      data-slot=\"calendar-table\"\n      class={cn(\"w-full border-collapse space-y-1\", local.class)}\n      {...rest}\n    >\n      {local.children}\n    </CalendarPrimitive.Table>\n  );\n}\n\nfunction CalendarHead(props: ComponentProps<\"thead\">) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  return (\n    <thead data-slot=\"calendar-head\" class={cn(\"flex\", local.class)} {...rest}>\n      {local.children}\n    </thead>\n  );\n}\n\nfunction CalendarHeadRow(\n  props: Omit<ComponentProps<\"tr\">, \"children\"> & {\n    children: (weekday: Accessor<Date>) => JSX.Element;\n  },\n) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  const context = CalendarPrimitive.useContext<\"single\">();\n\n  return (\n    <tr\n      data-slot=\"calendar-head-row\"\n      class={cn(\"relative flex items-center justify-center pt-1\", local.class)}\n      {...rest}\n    >\n      <Index each={context.weekdays()}>\n        {(weekday) => local.children(() => weekday())}\n      </Index>\n    </tr>\n  );\n}\n\nfunction CalendarHeadCell(\n  props: ComponentProps<typeof CalendarPrimitive.HeadCell>,\n) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  return (\n    <CalendarPrimitive.HeadCell\n      data-slot=\"calendar-head-cell\"\n      class={cn(\n        \"w-9 rounded-md font-normal text-[0.8rem] text-muted-foreground\",\n        local.class,\n      )}\n      {...rest}\n    >\n      {local.children}\n    </CalendarPrimitive.HeadCell>\n  );\n}\n\nfunction CalendarBody(\n  props: Omit<ComponentProps<\"tbody\">, \"children\"> & {\n    children: (week: Accessor<Date[]>) => JSX.Element;\n  },\n) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n  const context = CalendarPrimitive.useContext<\"single\">();\n\n  return (\n    <tbody\n      data-slot=\"calendar-body\"\n      class={cn(\"flex flex-col\", local.class)}\n      {...rest}\n    >\n      <Index each={context.weeks()}>\n        {(week) => local.children(() => week())}\n      </Index>\n    </tbody>\n  );\n}\n\nfunction CalendarRow(\n  props: Omit<ComponentProps<\"tr\">, \"children\"> & {\n    week: Date[];\n    children: (day: Accessor<Date>) => JSX.Element;\n  },\n) {\n  const [local, rest] = splitProps(props, [\"week\", \"class\", \"children\"]);\n\n  return (\n    <tr\n      data-slot=\"calendar-row\"\n      class={cn(\"mt-2 flex w-full\", local.class)}\n      {...rest}\n    >\n      <Index each={local.week}>{(day) => local.children(() => day())}</Index>\n    </tr>\n  );\n}\n\nfunction CalendarCell(props: ComponentProps<typeof CalendarPrimitive.Cell>) {\n  const [local, rest] = splitProps(props, [\"day\", \"class\", \"children\"]);\n\n  return (\n    <CalendarPrimitive.Cell\n      data-slot=\"calendar-cell\"\n      class={cn(\n        \"relative h-9 w-9 p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md\",\n        local.class,\n      )}\n      {...rest}\n    >\n      {local.children({ day: local.day })}\n    </CalendarPrimitive.Cell>\n  );\n}\n\n/** aka Day */\nfunction CalendarCellTrigger(\n  props: ComponentProps<typeof CalendarPrimitive.CellTrigger>,\n) {\n  const [local, rest] = splitProps(props, [\"class\", \"children\"]);\n\n  return (\n    <CalendarPrimitive.CellTrigger\n      data-slot=\"calendar-cell-trigger\"\n      class={cn(\n        buttonVariants({ variant: \"ghost\" }),\n        \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\",\n        // selected\n        \"data-selected:bg-primary data-selected:text-primary-foreground data-selected:focus:bg-primary data-selected:focus:text-primary-foreground data-selected:hover:bg-primary data-selected:hover:text-primary-foreground\",\n        // today\n        \"data-today:bg-accent data-today:text-accent-foreground\",\n        // disabled\n        \"data-disabled:text-muted-foreground data-disabled:opacity-50\",\n        // in-range\n        \"data-in-range:aria-selected:bg-accent data-in-range:aria-selected:text-accent-foreground\",\n        local.class,\n      )}\n      {...rest}\n    >\n      {local.children}\n    </CalendarPrimitive.CellTrigger>\n  );\n}\n\nfunction _ExampleCalendar() {\n  return (\n    <Calendar class=\"w-72\" mode=\"single\">\n      <CalendarHeader>\n        <CalendarPrevMonth />\n        <CalendarLabel />\n        <CalendarNextMonth />\n      </CalendarHeader>\n      <CalendarTable>\n        <CalendarHead>\n          <CalendarHeadRow>\n            {(weekday) => (\n              <CalendarHeadCell>\n                {weekday().toLocaleString(\"en\", { weekday: \"short\" })}\n              </CalendarHeadCell>\n            )}\n          </CalendarHeadRow>\n        </CalendarHead>\n        <CalendarBody>\n          {(week) => (\n            <CalendarRow week={week()}>\n              {(day) => (\n                <CalendarCell>\n                  <CalendarCellTrigger day={day()} />\n                </CalendarCell>\n              )}\n            </CalendarRow>\n          )}\n        </CalendarBody>\n      </CalendarTable>\n    </Calendar>\n  );\n}\n\nexport {\n  Calendar,\n  CalendarNav,\n  CalendarLabel,\n  CalendarPrevMonth,\n  CalendarNextMonth,\n  CalendarHeader,\n  CalendarTable,\n  CalendarHead,\n  CalendarHeadRow,\n  CalendarHeadCell,\n  CalendarBody,\n  CalendarRow,\n  CalendarCell,\n  CalendarCellTrigger,\n  useCalendar,\n};\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/jumpwind/lib/utils.ts",
      "content": "import { type Accessor, createMemo, type Ref } from \"solid-js\";\nimport { type ClassValue, cnBase } from \"tailwind-variants\";\n\n/**\n * Combines multiple class strings into one single string.\n *\n * @param classes - The classes to combine.\n * @returns The combined classes.\n */\nexport function cn(...classes: ClassValue[]): string | undefined {\n  return cnBase(classes);\n}\n\nexport type MaybeAccessor<T> = T | (() => T);\n\nexport type MaybeAccessorValue<T extends MaybeAccessor<unknown>> =\n  T extends () => unknown ? ReturnType<T> : T;\n\nexport function access<T extends MaybeAccessor<unknown>>(\n  v: T,\n): MaybeAccessorValue<T> {\n  return typeof v === \"function\" ? v() : (v as MaybeAccessorValue<T>);\n}\n\nexport function chain<Args extends [] | unknown[]>(callbacks: {\n  [Symbol.iterator]: () => IterableIterator<\n    ((...args: Args) => unknown) | undefined\n  >;\n}): (...args: Args) => void {\n  return (...args: Args) => {\n    for (const callback of callbacks) callback?.(...args);\n  };\n}\n\nexport function mergeRefs<T>(...refs: Ref<T>[]): (el: T) => void {\n  return chain(refs as ((el: T) => void)[]);\n}\n\nexport function some(...signals: Accessor<unknown>[]) {\n  return signals.some((signal) => !!signal());\n}\n\n/**\n * Returns a signal with the tag name of the element.\n *\n * @param props.element - The element to get the tag name of.\n * @param props.fallback - The fallback tag name to use if the element is `null`.\n * @returns ```typescript\n * Accessor<string>\n * ```\n */\nexport function createTagName(props: {\n  element: MaybeAccessor<HTMLElement | null>;\n  fallback: string;\n}): Accessor<string> {\n  const tagName = createMemo(\n    () => access(props.element)?.tagName.toLowerCase() ?? props.fallback,\n  );\n\n  return tagName;\n}\n",
      "type": "registry:lib",
      "target": ""
    },
    {
      "path": "registry/jumpwind/ui/button.tsx",
      "content": "import {\n  type ComponentProps,\n  createMemo,\n  splitProps,\n  type ValidComponent,\n} from \"solid-js\";\nimport { tv, type VariantProps } from \"tailwind-variants\";\nimport { createTagName } from \"@/registry/jumpwind/lib/utils\";\nimport { Dynamic, type DynamicProps } from \"@/registry/jumpwind/ui/dynamic\";\n\nconst BUTTON_INPUT_TYPES = [\n  \"button\",\n  \"color\",\n  \"file\",\n  \"image\",\n  \"reset\",\n  \"submit\",\n] as const;\n\nconst buttonVariants = tv({\n  base: \"inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm outline-none transition-all focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  variants: {\n    variant: {\n      default:\n        \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n      destructive:\n        \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:bg-destructive/60 dark:focus-visible:ring-destructive/40\",\n      outline:\n        \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:bg-input/30 dark:hover:bg-input/50\",\n      secondary:\n        \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n      ghost:\n        \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n      link: \"text-primary underline-offset-4 hover:underline\",\n    },\n    size: {\n      default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n      sm: \"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5\",\n      lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n      icon: \"size-9\",\n    },\n  },\n  defaultVariants: {\n    variant: \"default\",\n    size: \"default\",\n  },\n});\n\ntype ButtonVariantProps = VariantProps<typeof buttonVariants>;\n\n/** An accessible button that sets `type` and `role` properly based on if it's a native button. */\nfunction Button<T extends ValidComponent = \"button\">(\n  props: DynamicProps<T, ComponentProps<T>> &\n    ButtonVariantProps & {\n      type?: string;\n    },\n) {\n  const [local, rest] = splitProps(props, [\n    \"class\",\n    \"variant\",\n    \"size\",\n    \"type\",\n    \"role\",\n  ]);\n\n  const tagName = createTagName({\n    element: () => rest.ref ?? null,\n    fallback: \"button\",\n  });\n\n  const isButton = createMemo(() => {\n    if (tagName() === \"button\") return true;\n    if (tagName() === \"input\" && local.type !== undefined) {\n      return BUTTON_INPUT_TYPES.indexOf(local.type) !== -1;\n    }\n    return false;\n  });\n\n  return (\n    <Dynamic\n      as=\"button\"\n      data-slot=\"button\"\n      type={local.type ?? (isButton() ? \"button\" : undefined)}\n      role={local.role ?? (!isButton() ? \"button\" : undefined)}\n      class={buttonVariants({\n        variant: local.variant,\n        size: local.size,\n        class: local.class,\n      })}\n      {...rest}\n    />\n  );\n}\n\nexport { Button, buttonVariants, type ButtonVariantProps };\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "registry/jumpwind/ui/dynamic.tsx",
      "content": "/**\n * Portions of this code where adapted from corvu\n *\n * MIT License\n * Copyright (c) 2023-2025 Jasmin Noetzli\n */\n\nimport {\n  type ComponentProps,\n  createMemo,\n  type JSX,\n  splitProps,\n  untrack,\n  type ValidComponent,\n} from \"solid-js\";\nimport { Dynamic as SolidDynamic } from \"solid-js/web\";\n\nexport type DynamicAttributes<T extends ValidComponent = \"div\"> = {\n  /**\n   * Component to render the dynamic component as.\n   * @defaultValue `div`\n   */\n  as?: T | keyof JSX.HTMLElementTags;\n};\n\ntype OverrideProps<T, P> = Omit<T, keyof P> & P;\n\nexport type DynamicProps<\n  T extends ValidComponent,\n  Props extends object,\n> = OverrideProps<ComponentProps<T>, Props & DynamicAttributes<T>>;\n\n// corvu's version of Solid's `Dynamic` component.\n// Renders as a div by default and can be overridden with the `as` property.\nexport function Dynamic<ElementProps>(\n  props: DynamicAttributes<ValidComponent> & ElementProps,\n) {\n  const [local, rest] = splitProps(props, [\"as\"]);\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\n  const cached = createMemo<Function | string>(() => local.as ?? \"div\");\n  const memo = createMemo(() => {\n    const component = cached();\n    switch (typeof component) {\n      case \"function\":\n        return untrack(() => component(rest));\n      case \"string\":\n        return <SolidDynamic component={component} {...rest} />;\n    }\n  });\n\n  return memo as unknown as JSX.Element;\n}\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}
